{"remainingRequest":"/media/wislab/Data/LDY/ldy2021/ldy-blog/node_modules/babel-loader/lib/index.js??ref--3-1!/media/wislab/Data/LDY/ldy2021/ldy-blog/node_modules/cache-loader/dist/cjs.js??ref--0-0!/media/wislab/Data/LDY/ldy2021/ldy-blog/node_modules/vue-loader/lib/index.js??vue-loader-options!/media/wislab/Data/LDY/ldy2021/ldy-blog/docs/.vuepress/components/IndexBigImg.vue?vue&type=script&lang=js&","dependencies":[{"path":"/media/wislab/Data/LDY/ldy2021/ldy-blog/docs/.vuepress/components/IndexBigImg.vue","mtime":1656324572746},{"path":"/media/wislab/Data/LDY/ldy2021/ldy-blog/node_modules/cache-loader/dist/cjs.js","mtime":1655796930728},{"path":"/media/wislab/Data/LDY/ldy2021/ldy-blog/node_modules/babel-loader/lib/index.js","mtime":1655796930714},{"path":"/media/wislab/Data/LDY/ldy2021/ldy-blog/node_modules/cache-loader/dist/cjs.js","mtime":1655796930728},{"path":"/media/wislab/Data/LDY/ldy2021/ldy-blog/node_modules/vue-loader/lib/index.js","mtime":1655796931151}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnRpbWVycy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZGF0ZS50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWxsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnBhcnNlLWludC5qcyI7Ci8vCi8vCi8vCi8vIOS4pOS4quWPmOmHj+WIhuWIq+aYr+iDjOaZr+WFg+e0oOeahCBjbGFzc+OAgeeUn+aIkOeahOeureWktCBjbGFzcwp2YXIgYmFubmVyID0gImJhbm5lciI7CnZhciBiYW5uZXJfYXJyb3cgPSAiYmFubmVyLWFycm93IjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDkuIvpnaLpg73mmK/phY3nva7nmoTpu5jorqTlgLzvvIzlu7rorq7lnKggdGhlbWVDb25maWcg6L+b6KGM6YWN572u77yM5a6D5Lus5bCG6KaG55uW6L+Z5Lqb5bGe5oCn5YC8CiAgICAgIG5hdkNvbG9yOiAxLAogICAgICBzd2l0Y2hOYXZDb2xvcjogZmFsc2UsCiAgICAgIGJnVGltZUNvbG9yOiBmYWxzZSwKICAgICAgYmdUaW1lQ29sb3JBcnJheTogWyJ0cmFuc3BhcmVudCIsIC8vIOmAj+aYjgogICAgICAicmdiYSgyNTUsIDE0OCwgNDgsIC4yKSIsICJyZ2JhKDAsIDAsIDAsIC4zKSIsICJyZ2JhKDAsIDAsIDAsIC41KSJdLAogICAgICBkZXNjRmFkZTogZmFsc2UsCiAgICAgIGRlc2M6IFtdLAogICAgICBkZXNjRmFkZUluVGltZTogMjAwLAogICAgICBkZXNjRmFkZU91dFRpbWU6IDEwMCwKICAgICAgZGVzY05leHRUaW1lOiA4MDAsCiAgICAgIGRlc2NGb250U2l6ZTogIjEuNHJlbSIsCiAgICAgIGJ1YmJsZTogZmFsc2UsCiAgICAgIGJ1YmJsZVBvc2l0aW9uOiAwLAogICAgICBidWJibGVOdW06IDIwMCwKICAgICAgZmFkZUluSW50ZXJ2YWw6ICIiLAogICAgICAvLyDmt6HlhaXlrprml7blmagKICAgICAgZmFkZU91dEludGVydmFsOiAiIiAvLyDmt6Hlh7rlrprml7blmagKCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIGFycm93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYmFubmVyX2Fycm93KTsKICAgIGFycm93ICYmIGFycm93LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYXJyb3cpOwogICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7CiAgICBhLmlkID0gYmFubmVyX2Fycm93OwogICAgYS5jbGFzc05hbWUgPSBiYW5uZXJfYXJyb3c7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGJhbm5lcilbMF0uYXBwZW5kKGEpOwogICAgdmFyIHRhcmdldEEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiYW5uZXJfYXJyb3cpOwogICAgdGFyZ2V0QS5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIC8vIOa3u+WKoOeCueWHu+S6i+S7tgogICAgICBfdGhpcy5zY3JvbGxGbigpOwogICAgfSk7IC8vIOWIneWni+WMlumFjee9rgoKICAgIHRoaXMuaW5pdENvbmZpZygpOyAvLyDliJ3lp4vljJbnu4Tku7blip/og70KCiAgICBpZiAodGhpcy5iZ1RpbWVDb2xvcikgewogICAgICB0aGlzLmJnVGltZUNvbG9yQW5kVGlwKCk7CiAgICB9CgogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLm5vQmdCbHVyKCk7CiAgICB9LCAxMDApOwogICAgdGhpcy5ibHVyVGV4dCgpOwogICAgdGhpcy53YXRjaFNjcm9sbCgpOwoKICAgIGlmICh0aGlzLmRlc2NGYWRlKSB7CiAgICAgIHRoaXMudGV4dEZhZGVJbkFuZE91dCgpOwogICAgfQoKICAgIGlmICh0aGlzLmJ1YmJsZSkgewogICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7CiAgICAgIGNhbnZhcy5pZCA9ICJjYW52YXMiOwogICAgICBjYW52YXMuc3R5bGUudG9wID0gdGhpcy5idWJibGVQb3NpdGlvbiArICIlIjsKICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShiYW5uZXIpWzBdLmFwcGVuZChjYW52YXMpOwogICAgICB0aGlzLmNhbnZhc0J1YmJsZSgpOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZTogZnVuY3Rpb24gJHJvdXRlKHRvLCBmcm9tKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgLy8g54K55Ye75LiL5LiA6aG15ZCO77yM5b6A5LiL5ruR5Yqo77yM56e75Ye65aSn5Zu+CiAgICAgIGlmICh0by5wYXRoID09ICIvIiAmJiBPYmplY3Qua2V5cyh0aGlzLiRyb3V0ZS5xdWVyeSkubGVuZ3RoID4gMCkgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLmNsaWNrQXJyb3coKTsKICAgICAgICB9LCAyMDApOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDliJ3lp4vljJbphY3nva4KICAgIGluaXRDb25maWc6IGZ1bmN0aW9uIGluaXRDb25maWcoKSB7CiAgICAgIGlmICh0aGlzLiR0aGVtZUNvbmZpZy5pbmRleEltZyAmJiBPYmplY3Qua2V5cyh0aGlzLiR0aGVtZUNvbmZpZy5pbmRleEltZykubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMubmF2Q29sb3IgPSB0aGlzLiR0aGVtZUNvbmZpZy5pbmRleEltZy5uYXZDb2xvciA9PSB1bmRlZmluZWQgPyB0aGlzLm5hdkNvbG9yIDogdGhpcy4kdGhlbWVDb25maWcuaW5kZXhJbWcubmF2Q29sb3I7CiAgICAgICAgdGhpcy5zd2l0Y2hOYXZDb2xvciA9IHRoaXMuJHRoZW1lQ29uZmlnLmluZGV4SW1nLnN3aXRjaE5hdkNvbG9yID09IHVuZGVmaW5lZCA/IHRoaXMuc3dpdGNoTmF2Q29sb3IgOiB0aGlzLiR0aGVtZUNvbmZpZy5pbmRleEltZy5zd2l0Y2hOYXZDb2xvcjsKICAgICAgICB0aGlzLmJnVGltZUNvbG9yID0gdGhpcy4kdGhlbWVDb25maWcuaW5kZXhJbWcuYmdUaW1lQ29sb3IgPT0gdW5kZWZpbmVkID8gdGhpcy5iZ1RpbWVDb2xvciA6IHRoaXMuJHRoZW1lQ29uZmlnLmluZGV4SW1nLmJnVGltZUNvbG9yOwogICAgICAgIHRoaXMuYmdUaW1lQ29sb3JBcnJheSA9IHRoaXMuJHRoZW1lQ29uZmlnLmluZGV4SW1nLmJnVGltZUNvbG9yQXJyYXkgPT0gdW5kZWZpbmVkID8gdGhpcy5iZ1RpbWVDb2xvckFycmF5IDogdGhpcy4kdGhlbWVDb25maWcuaW5kZXhJbWcuYmdUaW1lQ29sb3JBcnJheTsKICAgICAgICB0aGlzLmRlc2NGYWRlID0gdGhpcy4kdGhlbWVDb25maWcuaW5kZXhJbWcuZGVzY0ZhZGUgPT0gdW5kZWZpbmVkID8gdGhpcy5kZXNjRmFkZSA6IHRoaXMuJHRoZW1lQ29uZmlnLmluZGV4SW1nLmRlc2NGYWRlOwogICAgICAgIHRoaXMuZGVzYyA9IHRoaXMuJHRoZW1lQ29uZmlnLmluZGV4SW1nLmRlc2MgPT0gdW5kZWZpbmVkID8gdGhpcy5kZXNjIDogdGhpcy4kdGhlbWVDb25maWcuaW5kZXhJbWcuZGVzYzsKICAgICAgICB0aGlzLmRlc2NGb250U2l6ZSA9IHRoaXMuJHRoZW1lQ29uZmlnLmluZGV4SW1nLmRlc2NGb250U2l6ZSA9PSB1bmRlZmluZWQgPyB0aGlzLmRlc2NGb250U2l6ZSA6IHRoaXMuJHRoZW1lQ29uZmlnLmluZGV4SW1nLmRlc2NGb250U2l6ZTsKICAgICAgICB0aGlzLmRlc2NGYWRlSW5UaW1lID0gdGhpcy4kdGhlbWVDb25maWcuaW5kZXhJbWcuZGVzY0ZhZGVJblRpbWUgPT0gdW5kZWZpbmVkID8gdGhpcy5kZXNjRmFkZUluVGltZSA6IHRoaXMuJHRoZW1lQ29uZmlnLmluZGV4SW1nLmRlc2NGYWRlSW5UaW1lOwogICAgICAgIHRoaXMuZGVzY05leHRUaW1lID0gdGhpcy4kdGhlbWVDb25maWcuaW5kZXhJbWcuZGVzY05leHRUaW1lID09IHVuZGVmaW5lZCA/IHRoaXMuZGVzY05leHRUaW1lIDogdGhpcy4kdGhlbWVDb25maWcuaW5kZXhJbWcuZGVzY05leHRUaW1lOwogICAgICAgIHRoaXMuYnViYmxlID0gdGhpcy4kdGhlbWVDb25maWcuaW5kZXhJbWcuYnViYmxlID09IHVuZGVmaW5lZCA/IHRoaXMuYnViYmxlIDogdGhpcy4kdGhlbWVDb25maWcuaW5kZXhJbWcuYnViYmxlOwogICAgICAgIHRoaXMuYnViYmxlUG9zaXRpb24gPSB0aGlzLiR0aGVtZUNvbmZpZy5pbmRleEltZy5idWJibGVQb3NpdGlvbiA9PSB1bmRlZmluZWQgPyB0aGlzLmJ1YmJsZVBvc2l0aW9uIDogdGhpcy4kdGhlbWVDb25maWcuaW5kZXhJbWcuYnViYmxlUG9zaXRpb247CiAgICAgICAgdGhpcy5idWJibGVOdW0gPSB0aGlzLiR0aGVtZUNvbmZpZy5pbmRleEltZy5idWJibGVOdW0gPT0gdW5kZWZpbmVkID8gdGhpcy5idWJibGVOdW0gOiB0aGlzLiR0aGVtZUNvbmZpZy5pbmRleEltZy5idWJibGVOdW07CiAgICAgIH0KICAgIH0sCiAgICAvLyDngrnlh7vnrq3lpLTlkJHkuIvmu5HliqgKICAgIHNjcm9sbEZuOiBmdW5jdGlvbiBzY3JvbGxGbigpIHsKICAgICAgdmFyIHdpbmRvd0ggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGJhbm5lcilbMF0uY2xpZW50SGVpZ2h0OyAvLyDojrflj5bnqpflj6Ppq5jluqYKCiAgICAgIHdpbmRvdy5zY3JvbGxUbyh7CiAgICAgICAgdG9wOiB3aW5kb3dILAogICAgICAgIGJlaGF2aW9yOiAic21vb3RoIiAvLyDlubPmu5Hmu5rliqgKCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOinpuWPkeS4i+aLieaMiemSrgogICAgY2xpY2tBcnJvdzogZnVuY3Rpb24gY2xpY2tBcnJvdygpIHsKICAgICAgdmFyIGFycm93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImJhbm5lci1hcnJvdyIpOwogICAgICBhcnJvdy5jbGljaygpOwogICAgfSwKICAgIC8vIOebkeWQrOmhtemdoua7muWKqOeahOWbnuiwgwogICAgd2F0Y2hTY3JvbGw6IGZ1bmN0aW9uIHdhdGNoU2Nyb2xsKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciB3aW5kb3dIID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShiYW5uZXIpWzBdLmNsaWVudEhlaWdodDsgLy8g6I635Y+W56qX5Y+j6auY5bqmCgogICAgICB3aW5kb3cub25zY3JvbGwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPCB3aW5kb3dIKSB7CiAgICAgICAgICBfdGhpczMuYmx1clRleHQoX3RoaXMzLm5hdkNvbG9yKTsKCiAgICAgICAgICBfdGhpczMubm9CZ0JsdXIoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKF90aGlzMy5zd2l0Y2hOYXZDb2xvciAmJiBfdGhpczMubmF2Q29sb3IgPT0gMSkgewogICAgICAgICAgICBfdGhpczMuYmx1clRleHQoMik7CiAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMy5zd2l0Y2hOYXZDb2xvciAmJiBfdGhpczMubmF2Q29sb3IgPT0gMikgewogICAgICAgICAgICBfdGhpczMuYmx1clRleHQoMSk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMzLmJnQmx1cigpOwogICAgICAgIH0KICAgICAgfTsKICAgIH0sCiAgICAvLyDlr7zoiKrmoI/mgaLlpI3ljp/kuLvpopjmoLflvI8KICAgIGJnQmx1cjogZnVuY3Rpb24gYmdCbHVyKCkgewogICAgICB2YXIgbmF2YmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgibmF2YmFyIilbMF07CiAgICAgIG5hdmJhci5jbGFzc05hbWUgPSAibmF2YmFyIGJsdXIiOwogICAgfSwKICAgIC8vIOWvvOiIquagj+mAj+aYjgogICAgbm9CZ0JsdXI6IGZ1bmN0aW9uIG5vQmdCbHVyKCkgewogICAgICB2YXIgbmF2YmFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgibmF2YmFyIilbMF07CiAgICAgIG5hdmJhci5jbGFzc05hbWUgPSAibmF2YmFyIG5hdmJhcjEgYmx1ciI7CiAgICB9LAogICAgLy8g5a+86Iiq5qCP55qE5a2X5L2T6aKc6ImyCiAgICBibHVyVGV4dDogZnVuY3Rpb24gYmx1clRleHQoKSB7CiAgICAgIHZhciBuYXZDb2xvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdGhpcy5uYXZDb2xvcjsKICAgICAgdmFyIHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgic2l0ZS1uYW1lIilbMF07CiAgICAgIHZhciBzZWFyY2ggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJzZWFyY2gtYm94IilbMF07CiAgICAgIHZhciBuYXYgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJuYXYtbGlua3MiKVswXTsKCiAgICAgIGlmIChuYXZDb2xvciA9PSAxKSB7CiAgICAgICAgdGl0bGUuY2xhc3NOYW1lID0gInNpdGUtbmFtZSBjYW4taGlkZSI7CiAgICAgICAgbmF2LmNsYXNzTmFtZSA9ICJuYXYtbGlua3MgY2FuLWhpZGUiOwogICAgICAgIHNlYXJjaC5jbGFzc05hbWUgPSAic2VhcmNoLWJveCI7CiAgICAgIH0gZWxzZSBpZiAobmF2Q29sb3IgPT0gMikgewogICAgICAgIHRpdGxlLmNsYXNzTmFtZSA9ICJzaXRlLW5hbWUgc2l0ZS1uYW1lMSBjYW4taGlkZSI7CiAgICAgICAgbmF2LmNsYXNzTmFtZSA9ICJuYXYtbGlua3MgbmF2LWxpbmtzMSBjYW4taGlkZSI7CiAgICAgICAgc2VhcmNoLmNsYXNzTmFtZSA9ICJzZWFyY2gtYm94IHNlYXJjaC1ib3gxIjsKICAgICAgfQogICAgfSwKICAgIC8vIOiDjOaZr+iJsumaj+aXtumXtOWPmOWMlu+8jOaXtumXtOaPkOekuuahhuWGheWuuemaj+aXtumXtOWPmOWMlgogICAgYmdUaW1lQ29sb3JBbmRUaXA6IGZ1bmN0aW9uIGJnVGltZUNvbG9yQW5kVGlwKCkgewogICAgICB2YXIgaG91cnMgPSBuZXcgRGF0ZSgpLmdldEhvdXJzKCk7CiAgICAgIHZhciBtaW51dGVzID0gbmV3IERhdGUoKS5nZXRNaW51dGVzKCk7CiAgICAgIHZhciBzZWNvbmRzID0gbmV3IERhdGUoKS5nZXRTZWNvbmRzKCk7CiAgICAgIGhvdXJzID0gaG91cnMgPCAxMCA/ICIwIiArIGhvdXJzIDogaG91cnM7CiAgICAgIG1pbnV0ZXMgPSBtaW51dGVzIDwgMTAgPyAiMCIgKyBtaW51dGVzIDogbWludXRlczsKICAgICAgc2Vjb25kcyA9IHNlY29uZHMgPCAxMCA/ICIwIiArIHNlY29uZHMgOiBzZWNvbmRzOwogICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGRpdi5jbGFzc05hbWUgPSAiYmFubmVyLWNvbG9yIjsKCiAgICAgIGlmIChob3VycyA+PSA2ICYmIGhvdXJzIDwgMTEpIHsKICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5iZ1RpbWVDb2xvckFycmF5WzBdOwogICAgICAgIGFkZFRpcCgiXHU2NUU5XHU0RTBBXHU1OTdEXHU1NDQwfn5cdUZGMENcdTczQjBcdTU3MjhcdTY2MkYgIi5jb25jYXQoaG91cnMsICI6IikuY29uY2F0KG1pbnV0ZXMsICI6IikuY29uY2F0KHNlY29uZHMsICJcdUZGMENcdTU0MDNcdTY1RTlcdTk5MTBcdTRFODZcdTU0MTdcdUZGMUZcdUQ4M0RcdURFMEFcdUQ4M0VcdUREMkQiKSwgImluZm8iLCA1MCwgNDAwMCk7CiAgICAgIH0gZWxzZSBpZiAoaG91cnMgPj0gMTIgJiYgaG91cnMgPD0gMTYpIHsKICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5iZ1RpbWVDb2xvckFycmF5WzBdOwogICAgICAgIGFkZFRpcCgiXHU0RTBCXHU1MzQ4XHU1OTdEXHU1NDQwfn5cdUZGMENcdTczQjBcdTU3MjhcdTY2MkYgIi5jb25jYXQoaG91cnMsICI6IikuY29uY2F0KG1pbnV0ZXMsICI6IikuY29uY2F0KHNlY29uZHMsICJcdUZGMENcdTdFNDFcdTVGRDlcdTc2ODRcdTRFMEJcdTUzNDhcdTRFNUZcdTg5ODFcdTkwMDJcdTVGNTNcdTRGMTFcdTYwNkZcdTU0RTZcdUQ4M0VcdURENjRcdUQ4M0NcdURGQzB+fiIpLCAiaW5mbyIsIDUwLCA0MDAwKTsKICAgICAgfSBlbHNlIGlmIChob3VycyA+PSAxNiAmJiBob3VycyA8PSAxOSkgewogICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmJnVGltZUNvbG9yQXJyYXlbMV07CiAgICAgICAgYWRkVGlwKCJcdTUyMzBcdTlFQzRcdTY2MEZcdTRFODZ+flx1RkYwQ1x1NzNCMFx1NTcyOFx1NjYyRiAiLmNvbmNhdChob3VycywgIjoiKS5jb25jYXQobWludXRlcywgIjoiKS5jb25jYXQoc2Vjb25kcywgIlx1RkYwQ1x1OEJFNVx1NTFDNlx1NTkwN1x1NTQwM1x1OTk2RFx1NTU2Nlx1RDgzRVx1REQ1N1x1RDgzQ1x1REY1Nn5+IiksICJpbmZvIiwgNTAsIDQwMDApOwogICAgICB9IGVsc2UgaWYgKGhvdXJzID49IDE5ICYmIGhvdXJzIDwgMjQpIHsKICAgICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5iZ1RpbWVDb2xvckFycmF5WzJdOwogICAgICAgIGFkZFRpcCgiXHU2NjVBXHU0RTBBXHU1OTdEXHU1NDQwfn5cdUZGMENcdTczQjBcdTU3MjhcdTY2MkYgIi5jb25jYXQoaG91cnMsICI6IikuY29uY2F0KG1pbnV0ZXMsICI6IikuY29uY2F0KHNlY29uZHMsICJcdUZGMENcdThCRTVcdTUxQzZcdTU5MDdcdTZEMTdcdTZGMzFcdTc3NjFcdTg5QzlcdTU1NjZcdUQ4M0VcdURENzFcdUQ4M0RcdURFMkF+fiIpLCAiaW5mbyIsIDUwLCA0MDAwKTsKICAgICAgfSBlbHNlIGlmIChob3VycyA+PSAwICYmIGhvdXJzIDwgNikgewogICAgICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmJnVGltZUNvbG9yQXJyYXlbM107CiAgICAgICAgYWRkVGlwKCJcdTUyMkJcdTUxOERcdTcxQUNcdTU5MUNcdTRFODZ+flx1RkYwQ1x1NzNCMFx1NTcyOFx1NjYyRiAiLmNvbmNhdChob3VycywgIjoiKS5jb25jYXQobWludXRlcywgIjoiKS5jb25jYXQoc2Vjb25kcywgIlx1RkYwQ1x1NjVFOVx1NzBCOVx1Nzc2MVx1NTQyN1x1RkYwQ1x1OEJBOVx1NjIxMVx1NEVFQ1x1NEUwMFx1OEQ3N1x1NkIyM1x1OEQ0Rlx1NjVFOVx1NEUwQVx1NzY4NFx1NTkyQVx1OTYzM35+XHVEODNEXHVERTA3XHVEODNEXHVERUNGIiksICJpbmZvIiwgNTAsIDQwMDApOwogICAgICB9CgogICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGJhbm5lcilbMF0ucGFyZW50Tm9kZS5hcHBlbmQoZGl2KTsKICAgIH0sCiAgICAvLyDlrZfkvZPmt6HlhaXmt6Hlh7oKICAgIHRleHRGYWRlSW5BbmRPdXQ6IGZ1bmN0aW9uIHRleHRGYWRlSW5BbmRPdXQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIGRlc2MgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRoaXMuZGVzYzsKICAgICAgdmFyIGRlc2NGb250U2l6ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdGhpcy5kZXNjRm9udFNpemU7CiAgICAgIHZhciBkZXNjRmFkZUluVGltZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdGhpcy5kZXNjRmFkZUluVGltZTsKICAgICAgdmFyIGRlc2NGYWRlT3V0VGltZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogdGhpcy5kZXNjRmFkZU91dFRpbWU7CiAgICAgIHZhciBkZXNjTmV4dFRpbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IHRoaXMuZGVzY05leHRUaW1lOwogICAgICB2YXIgZGVzY0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJkZXNjcmlwdGlvbiIpWzBdOwoKICAgICAgaWYgKGRlc2NFbGVtZW50KSB7CiAgICAgICAgLy8g6Z2e6aaW6aG15LiN6Kem5Y+RCiAgICAgICAgZGVzY0VsZW1lbnQuc3R5bGUuZm9udFNpemUgPSBkZXNjRm9udFNpemU7CiAgICAgICAgdmFyIHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7IC8vIOWIm+W7uiB8IOeahOWFg+e0oAoKICAgICAgICBzcGFuLmNsYXNzTmFtZSA9ICJ0eXBlZCI7CiAgICAgICAgc3Bhbi5pbm5lckhUTUwgPSAifCI7CiAgICAgICAgdmFyIGluZGV4ID0gMDsgLy8g5Li6IGRlc2Mg55qE6ZW/5bqm5pyN5YqhCgogICAgICAgIHZhciBsZW5ndGggPSAwOyAvLyDkuLrmlbDnu4TmnI3liqEKCiAgICAgICAgdmFyIGRlc2NyaXB0aW9uID0gZGVzY0VsZW1lbnQuaW5uZXJUZXh0OyAvLyDlhYjlj5bpu5jorqTlgLwKCiAgICAgICAgZGVzY0VsZW1lbnQuaW5uZXJUZXh0ID0gIiI7IC8vIOa4heepuiBkZXNjCgogICAgICAgIGRlc2NFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKSk7IC8vIOWIm+W7uiBkZXNjIOaJgOWcqOeahOaWsOWFg+e0oAoKICAgICAgICBzcGFuICYmIGRlc2NFbGVtZW50LmFwcGVuZENoaWxkKHNwYW4pOyAvLyDmt7vliqAgfCDnmoTlhYPntKAKICAgICAgICAvLyDliJ3lp4vljJbov63ku6MKCiAgICAgICAgdGhpcy5mYWRlSW5JbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGZhZGVJbigpOwogICAgICAgIH0sIGRlc2NGYWRlSW5UaW1lKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgaGVybyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImhlcm8iKVswXTsKICAgICAgICBkZXNjRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTsKICAgICAgICBkZXNjRWxlbWVudCAmJiAoZGVzY0VsZW1lbnQuY2xhc3NOYW1lID0gImRlc2NyaXB0aW9uIik7CiAgICAgICAgZGVzY0VsZW1lbnQgJiYgaGVyby5hcHBlbmRDaGlsZChkZXNjRWxlbWVudCk7CiAgICAgIH0gLy8g5reh5YWl5Zue6LCDCgoKICAgICAgdmFyIGZhZGVJbiA9IGZ1bmN0aW9uIGZhZGVJbigpIHsKICAgICAgICBpZiAoZGVzY0VsZW1lbnQpIHsKICAgICAgICAgIHNwYW4uc3R5bGUuYW5pbWF0aW9uID0gIm5vbmUiOyAvLyDmt6HlhaXml7bvvIx8IOWFieagh+S4jeWFgeiuuOmXqueDgQoKICAgICAgICAgIGlmIChkZXNjIGluc3RhbmNlb2YgQXJyYXkgJiYgZGVzYy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIC8vIOWmguaenOaYryB0aGVtZUNvbmZpZyDkvKDmnaXnmoTmlbDnu4QKICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBkZXNjW2xlbmd0aF07CiAgICAgICAgICB9CgogICAgICAgICAgZGVzY0VsZW1lbnQuZmlyc3RDaGlsZC5pbm5lclRleHQgPSBkZXNjcmlwdGlvbi5zdWJzdHJpbmcoMCwgaW5kZXgrKyk7CgogICAgICAgICAgaWYgKGluZGV4ID4gZGVzY3JpcHRpb24ubGVuZ3RoKSB7CiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXM0LmZhZGVJbkludGVydmFsKTsKICAgICAgICAgICAgc3Bhbi5zdHlsZS5hbmltYXRpb24gPSAidHlwZWRCbGluayAxcyBpbmZpbml0ZSI7IC8vIOa3oeWFpee7k+adn++8jHwg5YWJ5qCH5YWB6K646Zeq54OBCgogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBfdGhpczQuZmFkZU91dEludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgZmFkZU91dCgpOwogICAgICAgICAgICAgIH0sIGRlc2NGYWRlT3V0VGltZSk7CiAgICAgICAgICAgIH0sIGRlc2NOZXh0VGltZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OyAvLyDmt6Hlh7rlm57osIMKCgogICAgICB2YXIgZmFkZU91dCA9IGZ1bmN0aW9uIGZhZGVPdXQoKSB7CiAgICAgICAgaWYgKGluZGV4ID49IDApIHsKICAgICAgICAgIHNwYW4uc3R5bGUuYW5pbWF0aW9uID0gIm5vbmUiOyAvLyDmt6Hlh7rml7bvvIx8IOWFieagh+S4jeWFgeiuuOmXqueDgQoKICAgICAgICAgIGRlc2NFbGVtZW50LmZpcnN0Q2hpbGQuaW5uZXJUZXh0ID0gZGVzY3JpcHRpb24uc3Vic3RyaW5nKDAsIGluZGV4LS0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjbGVhckludGVydmFsKF90aGlzNC5mYWRlT3V0SW50ZXJ2YWwpOwogICAgICAgICAgc3Bhbi5zdHlsZS5hbmltYXRpb24gPSAidHlwZWRCbGluayAxcyBpbmZpbml0ZSI7IC8vIOa3oeWHuue7k+adn++8jHwg5YWJ5qCH5YWB6K646Zeq54OBCgogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGxlbmd0aCsrOwoKICAgICAgICAgICAgaWYgKGxlbmd0aCA+PSBkZXNjLmxlbmd0aCkgewogICAgICAgICAgICAgIGxlbmd0aCA9IDA7IC8vIGRlc2Mg5bGV56S65a6M77yM6YeN5paw5byA5aeL6K6h5pWwCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzNC5mYWRlSW5JbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICBmYWRlSW4oKTsKICAgICAgICAgICAgfSwgZGVzY0ZhZGVJblRpbWUpOwogICAgICAgICAgfSwgZGVzY05leHRUaW1lKTsKICAgICAgICB9CiAgICAgIH07CiAgICB9LAogICAgLy8g5rCU5rOh5pWI5p6cCiAgICBjYW52YXNCdWJibGU6IGZ1bmN0aW9uIGNhbnZhc0J1YmJsZSgpIHsKICAgICAgdmFyIGJ1YmJsZU51bSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdGhpcy5idWJibGVOdW07CiAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2FudmFzIik7CiAgICAgIHZhciBjeHQgPSBjYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsKCiAgICAgIGZ1bmN0aW9uIERvdCgpIHsKICAgICAgICB0aGlzLmFsaXZlID0gdHJ1ZTsKICAgICAgICB0aGlzLnggPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiBjYW52YXMud2lkdGgpOwogICAgICAgIHRoaXMueSA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIGNhbnZhcy5oZWlnaHQpOwogICAgICAgIHRoaXMuZGlhbWV0ZXIgPSBNYXRoLnJhbmRvbSgpICogMTAuODsKICAgICAgICB0aGlzLkNvbG9yRGF0YSA9IHsKICAgICAgICAgIFJlZDogTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMjU1KSwKICAgICAgICAgIEdyZWVuOiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAyNTUpLAogICAgICAgICAgQmx1ZTogTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMjU1KQogICAgICAgIH07CiAgICAgICAgdGhpcy5hbHBoYSA9IDAuNTsKICAgICAgICB0aGlzLmNvbG9yID0gInJnYmEoIiArIHRoaXMuQ29sb3JEYXRhLlJlZCArICIsICIgKyB0aGlzLkNvbG9yRGF0YS5HcmVlbiArICIsIiArIHRoaXMuQ29sb3JEYXRhLkJsdWUgKyAiLCIgKyB0aGlzLmFscGhhICsgIikiOwogICAgICAgIHRoaXMudmVsb2NpdHkgPSB7CiAgICAgICAgICB4OiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgPCAwLjUgPyAtMSA6IDEpICogTWF0aC5yYW5kb20oKSAqIDAuNywKICAgICAgICAgIHk6IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSA8IDAuNSA/IC0xIDogMSkgKiBNYXRoLnJhbmRvbSgpICogMC43CiAgICAgICAgfTsKICAgICAgfQoKICAgICAgRG90LnByb3RvdHlwZSA9IHsKICAgICAgICBEcmF3OiBmdW5jdGlvbiBEcmF3KCkgewogICAgICAgICAgY3h0LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7CiAgICAgICAgICBjeHQuYmVnaW5QYXRoKCk7CiAgICAgICAgICBjeHQuYXJjKHRoaXMueCwgdGhpcy55LCB0aGlzLmRpYW1ldGVyLCAwLCBNYXRoLlBJICogMiwgZmFsc2UpOwogICAgICAgICAgY3h0LmZpbGwoKTsKICAgICAgICB9LAogICAgICAgIFVwZGF0ZTogZnVuY3Rpb24gVXBkYXRlKCkgewogICAgICAgICAgaWYgKHRoaXMuYWxwaGEgPCAwLjgpIHsKICAgICAgICAgICAgdGhpcy5hbHBoYSArPSAwLjAxOwogICAgICAgICAgICB0aGlzLmNvbG9yID0gInJnYmEoIiArIHRoaXMuQ29sb3JEYXRhLlJlZCArICIsICIgKyB0aGlzLkNvbG9yRGF0YS5HcmVlbiArICIsIiArIHRoaXMuQ29sb3JEYXRhLkJsdWUgKyAiLCIgKyB0aGlzLmFscGhhICsgIikiOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMueCArPSB0aGlzLnZlbG9jaXR5Lng7CiAgICAgICAgICB0aGlzLnkgKz0gdGhpcy52ZWxvY2l0eS55OwoKICAgICAgICAgIGlmICh0aGlzLnggPiBjYW52YXMud2lkdGggKyA1IHx8IHRoaXMueCA8IDAgLSA1IHx8IHRoaXMueSA+IGNhbnZhcy5oZWlnaHQgKyA1IHx8IHRoaXMueSA8IDAgLSA1KSB7CiAgICAgICAgICAgIHRoaXMuYWxpdmUgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CiAgICAgIHZhciBFdmVudCA9IHsKICAgICAgICByQXJyYXk6IFtdLAogICAgICAgIEluaXQ6IGZ1bmN0aW9uIEluaXQoKSB7CiAgICAgICAgICBjYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsKICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7CgogICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBidWJibGVOdW07IHgrKykgewogICAgICAgICAgICB0aGlzLnJBcnJheS5wdXNoKG5ldyBEb3QoKSk7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5VcGRhdGUoKTsKICAgICAgICB9LAogICAgICAgIERyYXc6IGZ1bmN0aW9uIERyYXcoKSB7CiAgICAgICAgICBjeHQuY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgICAgICAgICB0aGlzLnJBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChkb3QpIHsKICAgICAgICAgICAgZG90LkRyYXcoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgVXBkYXRlOiBmdW5jdGlvbiBVcGRhdGUoKSB7CiAgICAgICAgICBpZiAoRXZlbnQuckFycmF5Lmxlbmd0aCA8IGJ1YmJsZU51bSkgewogICAgICAgICAgICBmb3IgKHZhciB4ID0gRXZlbnQuckFycmF5Lmxlbmd0aDsgeCA8IGJ1YmJsZU51bTsgeCsrKSB7CiAgICAgICAgICAgICAgRXZlbnQuckFycmF5LnB1c2gobmV3IERvdCgpKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIEV2ZW50LnJBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChkb3QpIHsKICAgICAgICAgICAgZG90LlVwZGF0ZSgpOwogICAgICAgICAgfSk7CiAgICAgICAgICBFdmVudC5yQXJyYXkgPSBFdmVudC5yQXJyYXkuZmlsdGVyKGZ1bmN0aW9uIChkb3QpIHsKICAgICAgICAgICAgcmV0dXJuIGRvdC5hbGl2ZTsKICAgICAgICAgIH0pOwogICAgICAgICAgRXZlbnQuRHJhdygpOwogICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKEV2ZW50LlVwZGF0ZSk7CiAgICAgICAgfQogICAgICB9OwoKICAgICAgd2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24gKCkgewogICAgICAgIEV2ZW50LnJBcnJheSA9IFtdOwogICAgICAgIGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOwogICAgICAgIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7CiAgICAgIH07CgogICAgICBFdmVudC5Jbml0KCk7CiAgICB9CiAgfSwKICAvLyDpmLLmraLph43lhpnnvJbor5Hml7bvvIzlr7zoh7Tlrprml7blmajlj6DliqDpl67popgKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICBjbGVhckludGVydmFsKHRoaXMuZmFkZUluSW50ZXJ2YWwpOwogICAgY2xlYXJJbnRlcnZhbCh0aGlzLmZhZGVPdXRJbnRlcnZhbCk7CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiBiZWZvcmVEZXN0cm95KCkgewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLmZhZGVJbkludGVydmFsKTsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy5mYWRlT3V0SW50ZXJ2YWwpOwogIH0KfTsKLyoqCiAqIOa3u+WKoOa2iOaBr+aPkOekugogKiBjb250ZW5077ya5YaF5a65CiAqIHR5cGXvvJrlvLnnqpfnsbvlnovvvIh0aXDjgIFzdWNjZXNz44CBd2FybmluZ+OAgWRhbmdlcu+8iQogKiBzdGFydEhlaWdodO+8muesrOS4gOS4quW8ueeql+eahOmrmOW6pu+8jOm7mOiupCA1MAogKiBkaWVUaW1l77ya5by556qX5raI5aSx5pe26Ze077yI5q+r56eS77yJ77yM6buY6K6kIDMwMDAg5q+r56eSCiAqCiAqIOWcqCBoZWFkIOmHjOa3u+WKoOWbvuaghyBsaW5rIOWcsOWdgO+8mmh0dHBzOi8vYXQuYWxpY2RuLmNvbS90L2ZvbnRfMzExNDk3OF9xZTBiMzlubzc2LmNzcwogKi8KCmZ1bmN0aW9uIGFkZFRpcChjb250ZW50LCB0eXBlKSB7CiAgdmFyIHN0YXJ0SGVpZ2h0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiA1MDsKICB2YXIgZGllVGltZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogMzAwMDsKICB2YXIgdGlwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLmdsb2JhbC10aXAiKTsKICB2YXIgdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOyAvLyDojrflj5bmnIDlkI7mtojmga/mj5DnpLrlhYPntKDnmoTpq5jluqYKCiAgdmFyIHRvcCA9IHRpcC5sZW5ndGggPT0gMCA/IDAgOiB0aXBbdGlwLmxlbmd0aCAtIDFdLmdldEF0dHJpYnV0ZSgiZGF0YS10b3AiKTsgLy8g5aaC5p6c5Lqn55Sf5Lik5Liq5Lul5LiK55qE5raI5oGv5o+Q56S677yM5YiZ5Ye6546w5Zyo5LiK5LiA5Liq5o+Q56S655qE5LiL6Z2i77yM5Y2z6auY5bqm5re75Yqg77yM5ZCm5YiZ6buY6K6kIDUwCgogIHZhciBsYXN0VG9wID0gcGFyc2VJbnQodG9wKSArICh0aXAubGVuZ3RoICE9IDAgPyB0aXBbdGlwLmxlbmd0aCAtIDFdLm9mZnNldEhlaWdodCArIDE3IDogc3RhcnRIZWlnaHQpOwogIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICBkaXYuY2xhc3NOYW1lID0gImdsb2JhbC10aXAgdGlwLSIuY29uY2F0KHR5cGUsICIgIikuY29uY2F0KHRpbWUpOwogIGRpdi5zdHlsZS50b3AgPSBwYXJzZUludCh0b3ApICsgInB4IjsKICBkaXYuc2V0QXR0cmlidXRlKCJkYXRhLXRvcCIsIGxhc3RUb3ApOwoKICBpZiAodHlwZSA9PSAiaW5mbyIgfHwgdHlwZSA9PSAxKSB7CiAgICBkaXYuaW5uZXJIVE1MID0gIjxpIGNsYXNzPVwiaWNvbmZvbnQgaWNvbi1pbmZvIGljb25cIj48L2k+PHAgY2xhc3M9XCJ0aXAtaW5mby1jb250ZW50XCI+Ii5jb25jYXQoY29udGVudCwgIjwvcD4iKTsKICB9IGVsc2UgaWYgKHR5cGUgPT0gInN1Y2Nlc3MiIHx8IHR5cGUgPT0gMikgewogICAgZGl2LmlubmVySFRNTCA9ICI8aSBjbGFzcz1cImljb25mb250IGljb24tZGFnb3V5b3VxdWFuIGljb25cIj48L2k+PHAgY2xhc3M9XCJ0aXAtc3VjY2Vzcy1jb250ZW50XCI+Ii5jb25jYXQoY29udGVudCwgIjwvcD4iKTsKICB9IGVsc2UgaWYgKHR5cGUgPT0gImRhbmdlciIgfHwgdHlwZSA9PSAzKSB7CiAgICBkaXYuaW5uZXJIVE1MID0gIjxpIGNsYXNzPVwiaWNvbmZvbnQgaWNvbi1jdW93dSBpY29uXCI+PC9pPjxwIGNsYXNzPVwidGlwLWRhbmdlci1jb250ZW50XCI+Ii5jb25jYXQoY29udGVudCwgIjwvcD4iKTsKICB9IGVsc2UgaWYgKHR5cGUgPT0gIndhcm5pbmciIHx8IHR5cGUgPT0gNCkgewogICAgZGl2LmlubmVySFRNTCA9ICI8aSBjbGFzcz1cImljb25mb250IGljb24tZ2FudGFuaGFvIGljb25cIj48L2k+PHAgY2xhc3M9XCJ0aXAtd2FybmluZy1jb250ZW50XCI+Ii5jb25jYXQoY29udGVudCwgIjwvcD4iKTsKICB9CgogIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTsKICB2YXIgdGltZVRpcCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUodGltZSlbMF07CiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICB0aW1lVGlwLnN0eWxlLnRvcCA9IHBhcnNlSW50KGxhc3RUb3ApICsgInB4IjsKICAgIHRpbWVUaXAuc3R5bGUub3BhY2l0eSA9ICIxIjsKICB9LCAxMCk7IC8vIOa2iOaBr+aPkOekuiBkaWVUaW1lIOenkuWQjumakOiXj+W5tuiiq+WIoOmZpAoKICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgIHRpbWVUaXAuc3R5bGUudG9wID0gIjBweCI7CiAgICB0aW1lVGlwLnN0eWxlLm9wYWNpdHkgPSAiMCI7IC8vIOS4i+mdoueahOaJgOacieWFg+e0oOWbnuWIsOWQhOiHquabvue7j+eahOWHuuWPkeeCuQoKICAgIHZhciBhbGxUaXBFbGVtZW50ID0gbmV4dEFsbFRpcEVsZW1lbnQodGltZVRpcCk7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxUaXBFbGVtZW50Lmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciBuZXh0ID0gYWxsVGlwRWxlbWVudFtpXTsKICAgICAgdmFyIHRvcCA9IHBhcnNlSW50KG5leHQuZ2V0QXR0cmlidXRlKCJkYXRhLXRvcCIpKSAtIG5leHQub2Zmc2V0SGVpZ2h0IC0gMTc7CiAgICAgIG5leHQuc2V0QXR0cmlidXRlKCJkYXRhLXRvcCIsIHRvcCk7CiAgICAgIG5leHQuc3R5bGUudG9wID0gdG9wICsgInB4IjsKICAgIH0KCiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgdGltZVRpcC5yZW1vdmUoKTsKICAgIH0sIDUwMCk7CiAgfSwgZGllVGltZSk7Cn0KLyoqCiAqIOiOt+WPluWQjumdoueahOWFhOW8n+WFg+e0oAogKi8KCgpmdW5jdGlvbiBuZXh0QWxsVGlwRWxlbWVudChlbGVtKSB7CiAgdmFyIHIgPSBbXTsKICB2YXIgbiA9IGVsZW07CgogIGZvciAoOyBuOyBuID0gbi5uZXh0U2libGluZykgewogICAgaWYgKG4ubm9kZVR5cGUgPT09IDEgJiYgbiAhPT0gZWxlbSkgewogICAgICByLnB1c2gobik7CiAgICB9CiAgfQoKICByZXR1cm4gcjsKfQ=="},null]}